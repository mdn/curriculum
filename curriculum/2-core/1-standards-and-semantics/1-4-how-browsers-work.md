### 1.4 How browsers work

Learning outcomes:

- The different major parts of a browser and how they work together — rendering engine, network layer, etc.

- The different kinds of assets that are returned in an HTTP response.

- How these are assembled to create a web document that is then displayed by the browser.

- Why the browser is sometimes seen as a hostile programming environment.

  - Unlike other programming environments, it is much harder to make guarantees about the environment your code will run on.

  - You cannot guarantee a user's OS, browser, language, location, network connection, CPU, GPU, memory, etc.

  - You need to embrace uncertainty and learn to program defensively. This feeds back into and expands upon the concepts looked at around progressive enhancement in [1.2 The HTML, CSS, and JavaScript triangle](./1-2-the-html-css-and-javascript-triangle.md). This would also be a good place to look at related concepts such as error handling, feature detection, and responsive design.

- The flipside — why the web is an awesome programming environment

  - Its basic state is accessible and linkable. Some of these basics are harder to achieve in other environments.

  - App delivery across the web is simple and powerful.

  - Updates are easy — in many cases, you can just reload the browser tab. You don't need to worry about constantly downloading and installing large packages.

  - The community is vibrant and helpful, and there are lots of great resources available to learn.

Resources:

- [Populating the page: how browsers work](https://developer.mozilla.org/docs/Web/Performance/How_browsers_work)

- [Dealing with files](https://developer.mozilla.org/docs/Learn/Getting_started_with_the_web/Dealing_with_files)

> **Notes:**
>
> - The different kinds of downloaded resources to understand are:
>
>   - HTML files
>   - CSS files
>   - JavaScript files
>   - Media assets such as
>
>     - Images
>     - Video files
>     - Audio files
>     - [PDFs](https://developer.mozilla.org/docs/Glossary/PDF)
>     - [SVGs](https://developer.mozilla.org/docs/Glossary/SVG)
>
>   - Other kinds of file that the browser can't handle natively and hands off to a relevant app on the device, for example
>
>     - Word documents
>     - PowerPoint slide decks
>
> - The different stages of rendering a web page
>
>   - A web page is requested (e.g. by clicking a link).
>   - A [DNS](https://developer.mozilla.org/docs/Glossary/DNS) lookup is performed to find the location of all the assets to download for the web page.
>   - The assets start to be fetched, via [TCP handshakes](https://developer.mozilla.org/docs/Glossary/TCP_handshake), [TLS](https://developer.mozilla.org/docs/Glossary/TLS) negotiation, requests and responses.
>   - A [DOM](https://developer.mozilla.org/docs/Glossary/DOM) tree is assembled from the downloaded HTML.
>   - The [CSSOM](https://developer.mozilla.org/docs/Glossary/CSSOM) is built from the CSS rules.
>   - The JavaScript is parsed, interpreted, compiled, and executed.
>   - The accessibility tree is built for assistive technologies (e.g., screen readers) to hook in to.
>   - The render tree is created from the DOM and CSSOM, to identify visual styles applied to each DOM node.
>   - Page layout is calculated.
>   - The styled, laid-out nodes are painted to the screen in the right order, via painting and compositing.
>
> - Static versus dynamic files: Some downloaded code files will be static (they exist on the server in the same form as they are downloaded), and some will be dynamic (generated by the server based on varying data).
